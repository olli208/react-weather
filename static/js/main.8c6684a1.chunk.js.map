{"version":3,"sources":["utils/useFetchData.js","components/FlexWrapper.jsx","components/StyledCard.jsx","components/Temp.jsx","components/ForecastList.jsx","components/ResponsiveFlexContainer.jsx","components/WeatherCard.jsx","components/SearchInput.jsx","global/GlobalStyle.jsx","components/Section.jsx","App.js","index.js"],"names":["useFetchData","useState","result","setResult","param","a","async","fetch","process","then","body","catch","err","console","log","res","json","FlexWrapper","styled","div","justifyContent","alignItems","isFullWidth","direction","propTypes","PropTypes","string","defaultProps","StyledCard","temp","Temp","num","style","fontSize","fontWeight","Math","round","StyledList","StyledListItem","ForecastList","firstDate","forecast","list","map","el","index","date","Date","dt_txt","main","getHours","weather","item","i","key","marginRight","src","icon","alt","description","ResponsiveFlexContainer","WeatherCard","current","fetchForecast","name","message","useEffect","ForecastListWrapper","useMemo","flexBasis","marginBottom","flexWrap","feels_like","temp_min","temp_max","flexGrow","StyledHeader","h3","StyledInput","SearchInput","fetchWeather","query","setQuery","onSubmit","e","htmlFor","as","type","onChange","currentTarget","value","GlobalStyle","createGlobalStyle","Section","section","isCentered","noMargin","App","ev","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8c6684a1.chunk.js","sourcesContent":["import { useState } from 'react';\r\n\r\nfunction useFetchData() {\r\n\tconst [result, setResult] = useState(null);\r\n\r\n\tasync function fetchData(param) {\r\n\t\ttry {\r\n\t\t\tconst res = await fetch(`https://api.openweathermap.org/data/2.5/${param}&APPID=${process.env.REACT_APP_API_KEY}&units=metric`)\r\n\t\t\t\t.then(body => body)\r\n\t\t\t\t.catch(err => console.log('fetch error', err)) // fixme\r\n\r\n\t\t\tconst json = await res.json()\r\n\t\t\tsetResult(json)\r\n\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tsetResult(error)\r\n\t\t}\r\n\t};\r\n\r\n\treturn [result, fetchData]\r\n}\r\n\r\nexport default useFetchData","\r\nimport styled from 'styled-components';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst FlexWrapper = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: ${({ justifyContent }) => justifyContent};\r\n\talign-items: ${({ alignItems }) => alignItems};\r\n\twidth: ${({ isFullWidth }) => isFullWidth && '100%'};\r\n\tflex-direction: ${({ direction }) => direction && direction};\r\n`\r\n\r\nFlexWrapper.propTypes = {\r\n  justifyContent: PropTypes.string,\r\n  alignItems: PropTypes.string\r\n}\r\n\r\nFlexWrapper.defaultProps = {\r\n  justifyContent: 'flex-start'\r\n}\r\n\r\nexport default FlexWrapper","import styled from 'styled-components';\r\n\r\nconst StyledCard = styled.div`\r\n  background: ${({ temp }) => temp <= 10 ? '#80cbc4' : temp <= 26 ? '#03a9f4' : temp => 27 ? '#ffb300' : '#f9f9f9'};\r\n  border-radius: 16px;\r\n  padding: 16px;\r\n  margin-bottom: 1.5rem;\r\n\r\n  @media (min-width: 1024px ) {\r\n    margin-right: 1.5rem;\r\n\t}\r\n`\r\n\r\n\r\nexport default StyledCard","import React from 'react';\r\n\r\nfunction Temp({ num, style }) {\r\n  return (\r\n    <span style={{ fontSize: 'inherit', fontWeight: 'inherit', ...style }}>{Math.round(num)}Â°C</span>\r\n  )\r\n}\r\n\r\nexport default Temp","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport StyledCard from './StyledCard';\r\nimport Temp from './Temp'\r\n\r\nconst StyledList = styled.div`\r\n  padding: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n\r\n`\r\n\r\nconst StyledListItem = styled(StyledCard)`\r\n  position: relative;\r\n  padding: .5rem 1rem;\r\n  display: flex;\r\n  margin-bottom: .5rem;\r\n  flex-basis: 20%;\r\n\r\n  img {\r\n    height: auto;\r\n    width: 2.5rem;\r\n  }\r\n`\r\n// TODO add dates (or tommorow today three days etc...) \r\nfunction ForecastList({ firstDate, forecast, }) {\r\n  return (\r\n    <StyledList>\r\n      {forecast?.list.map((el, index) => {\r\n        var date = new Date(el.dt_txt)\r\n        var temp = Math.round(el.main.temp)\r\n\r\n        return firstDate.getHours() === date.getHours() && el && (\r\n          el.weather.map((item, i) => (\r\n            <StyledListItem temp={temp} key={index}>\r\n              <div style={{ marginRight: '.5rem' }}><img src={`http://openweathermap.org/img/wn/${item.icon}.png`} alt=\"weather icon\" /></div>\r\n\r\n              <div>\r\n                <Temp num={temp} style={{ fontWeight: '700' }} />\r\n                <p>{item.description}</p>\r\n              </div>\r\n            </StyledListItem>\r\n          ))\r\n        )\r\n      })\r\n      }\r\n    </StyledList>\r\n  )\r\n};\r\n\r\nexport default ForecastList;","import styled from 'styled-components';\r\n\r\nconst ResponsiveFlexContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n  @media (min-width: 1024px ) {\r\n\t\tflex-direction: row;\r\n\t}\r\n`\r\n\r\nexport default ResponsiveFlexContainer","import React, { useEffect, useMemo } from 'react';\r\nimport useFetchData from '../utils/useFetchData';\r\nimport FlexWrapper from './FlexWrapper';\r\nimport ForecastList from './ForecastList';\r\nimport StyledCard from './StyledCard';\r\nimport ResponsiveFlexContainer from './ResponsiveFlexContainer';\r\nimport Temp from './Temp';\r\n\r\nfunction WeatherCard({ weather: current }) {\r\n  const [forecast, fetchForecast] = useFetchData();\r\n  const { name, weather, message, main } = current;\r\n\r\n  useEffect(() => {\r\n    if (!name) return\r\n    fetchForecast(`forecast?q=${name}`)\r\n\r\n    return () => {\r\n      // cleanup...\r\n    };\r\n  }, [name]);\r\n\r\n  const ForecastListWrapper = useMemo(() => {\r\n    // check first objects time (since this is the most current weather time (?))\r\n    // Check that time for the nex 5 days\r\n\r\n    if (forecast) {\r\n      const firstDate = new Date(forecast.list[0].dt_txt)\r\n\r\n      return (\r\n        <ForecastList firstDate={firstDate} forecast={forecast} />\r\n      )\r\n    }\r\n  }, [forecast]);\r\n\r\n  return (\r\n    <ResponsiveFlexContainer>\r\n      {message ?\r\n        <h2>{message}</h2>\r\n        :\r\n        <div style={{ flexBasis: '50%' }}>\r\n          <h3 style={{ marginBottom: '.5rem' }}>now</h3>\r\n          <StyledCard temp={main.temp}>\r\n            {!weather ? 'loading' :\r\n              weather.map((el, i) => (\r\n                <>\r\n                  <FlexWrapper style={{ flexWrap: 'nowrap', marginBottom: '2rem' }}>\r\n                    <div style={{ marginRight: '.5rem' }}>\r\n                      <img src={`http://openweathermap.org/img/wn/${el.icon}.png`} alt=\"weather icon\" />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <h2>it's <Temp num={main.temp} /> in {name}.</h2>\r\n                      <p key={i}>{el.description}, feels like <Temp num={main.feels_like} /> with a minimum of <Temp num={main.temp_min} /> and a maximum of <Temp num={main.temp_max} />.</p>\r\n                    </div>\r\n                  </FlexWrapper>\r\n                </>\r\n              ))}\r\n          </StyledCard>\r\n        </div>\r\n      }\r\n\r\n      <div style={{ flexGrow: '1' }}>\r\n        <h3 style={{ marginBottom: '.5rem' }}>next 5 days</h3>\r\n        {ForecastListWrapper}\r\n      </div>\r\n    </ResponsiveFlexContainer>\r\n  )\r\n}\r\n\r\nexport default WeatherCard;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport FlexWrapper from './FlexWrapper';\r\n\r\nconst StyledHeader = styled.h3`\r\n    font-weight: 700;\r\n    font-size: 1.5em; \r\n`\r\n\r\nconst StyledInput = styled.div`\r\n  position: relative;\r\n  margin-bottom: 1rem;\r\n  width: 100%;\r\n\r\n  input {\r\n    border: 0;\r\n    border-bottom: 3px solid black;\r\n    padding: .25rem 0;\r\n    font-weight: 700;\r\n    font-size: 1.5em; \r\n    background: none;\r\n    \r\n    &:focus + label {\r\n      right: 0;\r\n      margin-right: 0;\r\n      width: 40%;\r\n      padding-top: 5px;\r\n    }\r\n  }\r\n`\r\n\r\nfunction SearchInput({ fetchWeather }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  return (\r\n    <form onSubmit={e => fetchWeather(e, query)}>\r\n      <FlexWrapper isFullWidth>\r\n        <StyledInput>\r\n          <label htmlFor=\"search\"><StyledHeader as=\"h3\">whats the weather in</StyledHeader></label>\r\n          <div>\r\n            <input type=\"text\" name=\"search\" onChange={e => setQuery(e.currentTarget.value)} />\r\n            <StyledHeader as=\"span\">?</StyledHeader>\r\n          </div>\r\n        </StyledInput>\r\n      </FlexWrapper>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchInput;","import { createGlobalStyle } from 'styled-components'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\r\n    monospace;\r\n}\r\n\r\nh1 {\r\n  font-size: 3em; \r\n  margin: 0;\r\n  color: #202124;\r\n  font-weight: 700;\r\n}\r\n\r\nh2 {\r\n  font-size: 2em; \r\n  margin: 0;\r\n}\r\n\r\nh3 {\r\n  font-size: 1.5em; \r\n  margin: 0;\r\n}\r\n\r\nh4 {\r\n  margin: 0;\r\n}\r\n\r\np, span {\r\n  font-size: 1.15rem;\r\n  margin: 0;\r\n}\r\n`\r\n\r\nexport default GlobalStyle","import styled from 'styled-components'\r\n\r\nconst Section = styled.section`\r\n\tpadding: 1rem;\r\n\twidth: 100%;\r\n\tmargin: ${({ isCentered, noMargin }) => isCentered ? '0 auto' : noMargin && '0'};\r\n\tmargin-bottom: ${({ noMargin }) => !noMargin && '1rem'};\r\n\t\r\n\t@media (min-width: 1024px ) {\r\n\t\twidth: 70%;\r\n\t}\r\n`\r\n\r\nexport default Section","import React from 'react';\nimport useFetchData from './utils/useFetchData'\nimport WeatherCard from './components/WeatherCard'\nimport SearchInput from './components/SearchInput'\nimport GlobalStyle from './global/GlobalStyle';\nimport Section from './components/Section';\n\n// TODO\n// key with unique id \n// better error handling\n// ...\n\nfunction App() {\n  const [weather, fetchWeather] = useFetchData();\n\n  function handleFetchWeather(ev, query) {\n    ev.preventDefault();\n    fetchWeather(`weather?q=${query}`)\n  }\n\n  return (\n    <>\n      <GlobalStyle />\n      <Section as=\"header\" isCentered>\n        <SearchInput fetchWeather={handleFetchWeather} />\n      </Section>\n\n      {weather && (\n        <Section isCentered>\n          <WeatherCard weather={weather} message={weather.message} />\n        </Section>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}